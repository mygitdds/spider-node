{"version":3,"sources":["webpack:///./src/views/logManage/index.vue?2548","webpack:///./src/views/logManage/index.vue?3a9e","webpack:///./src/views/logManage/field.js","webpack:///src/views/logManage/index.vue","webpack:///./src/views/logManage/index.vue?6e12","webpack:///./src/views/logManage/index.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_b","model","value","callback","$$v","form","expression","formProps","on","onQuery","_v","onReset","directives","name","rawName","loading","scopedSlots","_u","key","fn","ref","row","status","index","$event","handleView","handleDel","tableProps","staticRenderFns","formFields","clearable","statusText","false","true","tableFields","type","fixed","width","_","components","mixins","data","tableData","tableHeight","shippingOrderDetails","visible","item","fetchData","computed","fields","fieldCol","xl","lg","md","wrapperWidth","total","nextFields","autofit","tableHeaderKey","height","border","pageSizeKey","currentKey","pageParam","size","page","mounted","setTimeout","methods","window","open","handleEnable","rowData","splice","indexOf","$confirm","confirmButtonText","cancelButtonText","handleSearch","push","handleKeyUpQuery","keyCode","component","_objectWithoutPropertiesLoose","source","excluded","i","target","sourceKeys","Object","keys","length","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"mappings":"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","file":"js/service-log.1dd95eab.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f443505e&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-column tab-content\"},[_c('yl-form-collapse',{attrs:{\"collapse-position\":\"right\",\"collapse-height\":\"42px\"}},[_c('template',{slot:\"form\"},[_c('yl-form',_vm._b({attrs:{\"size\":\"mini\"},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},'yl-form',_vm.formProps,false))],1),_c('template',{slot:\"collapse\"},[_c('el-row',{staticClass:\"flex flex-row justify-end\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.onQuery}},[_vm._v(\" 查询 \")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.onReset}},[_vm._v(\" 清除 \")])],1)],1)],2),_c('yl-table',_vm._b({directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading.fetchData),expression:\"loading.fetchData\"}],scopedSlots:_vm._u([{key:\"body(status)\",fn:function(ref){\nvar row = ref.row;\nreturn [(!row.status)?_c('span',{staticClass:\"hover_green\"},[_vm._v(\"正常\")]):_c('span',{staticClass:\"hover_red\"},[_vm._v(\"异常\")])]}},{key:\"body(action)\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleView(row)}}},[_vm._v(\" 查看日志 \")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleView(row)}}},[_vm._v(\" 查看流程 \")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDel(index)}}},[_vm._v(\" 删除 \")])]}}])},'yl-table',_vm.tableProps,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const formFields = [\n  {\n    name: '功能名称',\n    key: 'funName',\n    attrs: {\n      clearable: true,\n    },\n  },\n  {\n    name: '流程名称',\n    key: 'flowName',\n    attrs: {\n      clearable: true,\n    },\n  },\n];\nconst statusText = {\n  false: '正常',\n  true: '异常',\n};\nexport const tableFields = [\n  // {\n  //   key: 'selection',\n  //   type: 'selection',\n  //   width: 80,\n  // },\n  {\n    key: 'order',\n    type: 'index',\n    name: '序号',\n    fixed: true,\n    width: 60,\n  },\n  {\n    key: 'action',\n    name: '操作',\n    fixed: true,\n    width: 220,\n  },\n  {\n    key: 'funName',\n    name: '功能名称',\n    width: 100,\n  },\n\n  {\n    key: 'flowName',\n    name: '流程名称',\n    width: 180,\n  },\n  {\n    key: 'version',\n    name: '流程版本',\n    width: 180,\n  },\n  {\n    key: 'status',\n    name: '是否异常',\n    width: 180,\n    render: (_) => statusText[_],\n  },\n\n  {\n    key: 'desc',\n    name: '日志',\n  },\n];\n","<template>\n  <div class=\"flex flex-column tab-content\">\n    <yl-form-collapse collapse-position=\"right\" collapse-height=\"42px\">\n      <template slot=\"form\">\n        <yl-form\n          v-model=\"form\"\n          size=\"mini\"\n          v-bind=\"formProps\"\n        />\n      </template>\n      <template slot=\"collapse\">\n        <el-row class=\"flex flex-row justify-end\">\n          <el-button\n            size=\"small\"\n            type=\"primary\"\n            @click=\"onQuery\"\n          >\n            查询\n          </el-button>\n          <el-button\n            size=\"small\"\n            @click=\"onReset\"\n          >\n            清除\n          </el-button>\n        </el-row>\n      </template>\n    </yl-form-collapse>\n\n    <yl-table v-loading=\"loading.fetchData\" v-bind=\"tableProps\">\n      <template slot=\"body(status)\" slot-scope=\"{row}\">\n        <span v-if=\"!row.status\" class=\"hover_green\">正常</span>\n        <span v-else class=\"hover_red\">异常</span>\n      </template>\n      <template slot=\"body(action)\" slot-scope=\"{ row, index }\">\n        <el-button\n          type=\"text\"\n          @click=\"handleView(row)\"\n        >\n          查看日志\n        </el-button>\n\n        <el-button\n          type=\"text\"\n          @click=\"handleView(row)\"\n        >\n          查看流程\n        </el-button>\n        <el-button\n          type=\"text\"\n          @click=\"handleDel(index)\"\n        >\n          删除\n        </el-button>\n      </template>\n    </yl-table>\n  </div>\n</template>\n\n<script>\nimport searchPageMixin from '@thales/search-page';\n// import { fetchPage } from '@/api/bms/fetchPage';\nimport loadingMixin from '@thales/loading';\nimport { formFields, tableFields } from './field';\n\nexport default {\n  name: 'FunManage',\n  components: {\n  },\n  mixins: [searchPageMixin, loadingMixin],\n  data() {\n    return {\n      form: {},\n      tableData: [{}, { flowName: 'xxxx', status: true }],\n      tableHeight: '60vh',\n      shippingOrderDetails: {\n        visible: false,\n        item: {},\n      },\n      loading: {\n        fetchData: false,\n      },\n    };\n  },\n  computed: {\n    formProps() {\n      return {\n        fields: formFields,\n        fieldCol: {\n          xl: 6,\n          lg: 6,\n          md: 8,\n        },\n        wrapperWidth: '80%',\n        total: 10,\n        nextFields: [\n          {\n            key: 'funName',\n            nativeOn: {\n              keyup: this.handleKeyUpQuery,\n            },\n            on: {\n              clear: () => {\n                this.onQuery();\n              },\n            },\n          },\n          {\n            key: 'flowName',\n            nativeOn: {\n              keyup: this.handleKeyUpQuery,\n            },\n            on: {\n              clear: () => {\n                this.onQuery();\n              },\n            },\n          },\n        ],\n      };\n    },\n    tableProps() {\n      return {\n        autofit: false,\n        tableHeaderKey: 'funManage',\n        height: this.tableHeight,\n        fields: tableFields,\n        border: true,\n        total: this.total,\n        data: this.tableData,\n        pageSizeKey: 'size',\n        currentKey: 'page',\n        pageParam: {\n          size: 10,\n          page: 1,\n        },\n        ...this.mixinTableProps,\n      };\n    },\n  },\n  mounted() {\n    setTimeout(() => {\n      this.tableHeight = 'calc(100vh - 290px)';\n    }, 50);\n  },\n  methods: {\n    handleView() {\n      window.open('#/dag?nodeId=1');\n    },\n    handleEnable(row, type) {\n      const rowData = row;\n      rowData.status = type;\n      this.tableData.splice(this.tableData.indexOf(row), 1, rowData);\n      this.onQuery();\n    },\n    handleDel(index) {\n      this.$confirm('确定删除?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(() => {\n        this.tableData.splice(index, 1);\n      });\n    },\n    handleSearch(row) {\n      this.tableData.push(row);\n    },\n\n    async fetchData(form) {\n      const params = { ...form };\n      // Object.keys(params).forEach((key) => {\n      //   if (isEmpty(params[key])) {\n      //     delete params[key];\n      //   }\n      // });\n      const { page, size, ...rest } = params;\n      console.log(rest);\n      console.log(this.tableData);\n      // const { total, records } = await fetchPage(\n      //   { ...rest },\n      //   {\n      //     page: params.page,\n      //     size: params.size,\n      //   },\n      // );\n      // this.tableData = records;\n      this.total = this.tableData.length;\n    },\n    handleKeyUpQuery({ keyCode }) {\n      if (keyCode === 13) {\n        this.onQuery();\n      }\n    },\n\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.thaled-collapse-form::v-deep {\n  border: 1px solid #ebeef5;\n  padding: 10px 10px 0 10px;\n  margin: 5px 0 20px;\n  & > .el-row:first-child {\n    flex: 1;\n  }\n  .thales-form-expand__icon {\n    margin-left: 6px;\n    margin-top: 6px;\n  }\n  .el-form-item__content .el-date-editor.el-input__inner {\n    width: 320px;\n  }\n}\n.tab-content {\n  padding: 20px;\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n  flex-direction: column;\n  background-color: #fff;\n  margin: 0 10px;\n  ::v-deep {\n    .el-input .el-input__inner {\n      width: 100%;\n    }\n  }\n  .hover_green{\n    color: rgb(72, 185, 72);\n  }\n  .hover_red{\n    color: red;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f443505e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f443505e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f443505e\",\n  null\n  \n)\n\nexport default component.exports","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}