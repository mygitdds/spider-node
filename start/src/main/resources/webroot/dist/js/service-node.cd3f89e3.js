(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["service-node"],{"0010":function(e,t,n){},2007:function(e,t,n){},"28f7":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-column tab-content"},[n("yl-form-collapse",{attrs:{"collapse-position":"right","collapse-height":"42px"}},[n("template",{slot:"form"},[n("yl-form",e._b({attrs:{size:"mini"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},"yl-form",e.formProps,!1))],1),n("template",{slot:"collapse"},[n("el-row",{staticClass:"flex flex-row justify-end"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onQuery}},[e._v(" 查询 ")]),n("el-button",{attrs:{size:"small"},on:{click:e.onReset}},[e._v(" 清除 ")])],1)],1)],2),n("div",{staticClass:"btn_groups"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleAdd}},[e._v(" 新增 ")])],1),n("yl-table",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading.fetchData,expression:"loading.fetchData"}],scopedSlots:e._u([{key:"body(shippingOrder)",fn:function(t){return[n("span",{staticClass:"hover_green_wj"},[e._v(e._s(t.row.shippingOrder))])]}},{key:"body(action)",fn:function(t){var i=t.row,a=t.index;return[n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(i)}}},[e._v(" 编辑 ")]),!0===i.status?n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEnable(i,!1)}}},[e._v(" 停用 ")]):n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEnable(i,!0)}}},[e._v(" 启用 ")]),n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleDel(a)}}},[e._v(" 删除 ")]),n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleView(i)}}},[e._v(" 查看流程 ")])]}}])},"yl-table",e.tableProps,!1)),n("addOrEditDialog",{ref:"addOrEditDialog",on:{success:e.handleSearch}})],1)},a=[],r=(n("c975"),n("a434"),n("96cf"),n("1da1")),o=n("5530"),l=n("854d"),s=n.n(l),c=n("ad8f"),u=n("89b1"),d=n.n(u),f=[{name:"搜索词",key:"nodeName",attrs:{clearable:!0}}],m={NORMAL:"正常",DISABLED:"禁用"},h=[{value:"ENABLED",label:"启用"},{value:"DISABLED",label:"禁用"}],p=[{key:"order",type:"index",name:"序号",fixed:!0,width:60},{key:"action",name:"操作",fixed:!0,width:220},{key:"nodeName",name:"节点名称",width:100},{key:"identification",name:"节点标识",width:180},{key:"status",name:"节点状态",width:180,render:function(e){return m[e]}},{key:"version",name:"节点版本",width:180},{key:"desc",name:"节点描述"}],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.isEdit?"编辑":"新增",visible:e.visible,top:"15vh",width:"36%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t},close:e.hide}},[n("div",{staticClass:"dialog_content adjust-content"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"140px",rules:e.rules,"label-position":"right"}},[n("el-form-item",{attrs:{label:"节点名称",prop:"nodeName"}},[n("el-input",{model:{value:e.form.nodeName,callback:function(t){e.$set(e.form,"nodeName","string"===typeof t?t.trim():t)},expression:"form.nodeName"}})],1),n("el-form-item",{attrs:{label:"节点标识",prop:"identification"}},[n("el-input",{model:{value:e.form.identification,callback:function(t){e.$set(e.form,"identification","string"===typeof t?t.trim():t)},expression:"form.identification"}})],1),n("el-form-item",{attrs:{label:"节点状态",prop:"status"}},[n("el-switch",{attrs:{"active-text":e.STATUS[0].label,"inactive-text":e.STATUS[1].label,"active-value":e.STATUS[0].value,"inactive-value":e.STATUS[1].value},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),n("el-form-item",{attrs:{label:"节点版本",prop:"version"}},[n("el-input",{model:{value:e.form.version,callback:function(t){e.$set(e.form,"version","string"===typeof t?t.trim():t)},expression:"form.version"}})],1),n("el-form-item",{attrs:{label:"节点描述",prop:"desc"}},[n("el-input",{model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc","string"===typeof t?t.trim():t)},expression:"form.desc"}})],1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancel}},[e._v(" 取 消 ")]),n("el-button",{attrs:{type:"primary",loading:e.loading.confirm},on:{click:e.confirm}},[e._v(" 确 定 ")])],1)])},v=[],g={mixins:[d.a],data:function(){return{STATUS:h,isEdit:!1,loading:{confirm:!1},visible:!1,form:{},rules:{nodeName:[{required:!0,message:"请输入",trigger:"blur"}],identification:[{required:!0,message:"请输入",trigger:"blur"}],status:[{required:!0,message:"请选择",trigger:"blur"}],version:[{required:!0,message:"请输入",trigger:"blur"}]}}},mounted:function(){},created:function(){},methods:{fetchData:function(){},confirm:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate();case 2:return n=Object(o["a"])(Object(o["a"])({},e.form),{},{serviceId:"454872"}),t.next=5,Object(c["c"])(n);case 5:e.$message.success("创建成功"),e.$emit("success"),e.hide();case 8:case"end":return t.stop()}}),t)})))()},cancel:function(){this.hide()},showEdit:function(e){this.isEdit=!0,this.id=e.id,this.form=Object(o["a"])({},e),this.visible=!0},show:function(){this.isEdit=!1,this.form={},this.visible=!0},hide:function(){this.$refs.form.resetFields(),this.visible=!1}}},y=g,w=(n("4a50"),n("2877")),x=Object(w["a"])(y,b,v,!1,null,"6904adbc",null),_=x.exports,k={name:"FunManage",components:{addOrEditDialog:_},mixins:[s.a,d.a],data:function(){return{form:{},tableData:[{},{flowName:"xxxx"}],tableHeight:"60vh",shippingOrderDetails:{visible:!1,item:{}},loading:{fetchData:!1}}},computed:{formProps:function(){var e=this;return{fields:f,fieldCol:{xl:10,lg:10,md:10},wrapperWidth:"80%",total:10,nextFields:[{key:"nodeName",nativeOn:{keyup:this.handleKeyUpQuery},on:{clear:function(){e.onQuery()}}}]}},tableProps:function(){return Object(o["a"])({autofit:!1,tableHeaderKey:"funManage",height:this.tableHeight,fields:p,border:!0,total:this.total,data:this.tableData,pageSizeKey:"size",currentKey:"page",pageParam:{size:10,page:1}},this.mixinTableProps)}},mounted:function(){var e=this;setTimeout((function(){e.tableHeight="calc(100vh - 290px)"}),50)},methods:{handleView:function(){window.open("#/dag?nodeId=1")},handleEnable:function(e,t){var n=e;n.status=t,this.tableData.splice(this.tableData.indexOf(e),1,n),this.onQuery()},handleDel:function(e){var t=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.tableData.splice(e,1)}))},handleSearch:function(){this.onQuery()},handleAdd:function(){this.$refs.addOrEditDialog.show()},handleEdit:function(e){this.$refs.addOrEditDialog.showEdit(e)},fetchData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=Object(o["a"])(Object(o["a"])({},e),{},{serviceId:"454872"}),n.next=3,Object(c["h"])(i);case 3:a=n.sent,t.tableData=a,t.total=t.tableData.length;case 6:case"end":return n.stop()}}),n)})))()},handleKeyUpQuery:function(e){var t=e.keyCode;13===t&&this.onQuery()}}},D=k,O=(n("904e"),Object(w["a"])(D,i,a,!1,null,"fb336b80",null));t["default"]=O.exports},"4a50":function(e,t,n){"use strict";n("0010")},"904e":function(e,t,n){"use strict";n("2007")},ad8f:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return m}));var i=n("d232");function a(e){return i["b"].request({url:"/flow_cloud/select/node",method:"post",data:e})}function r(e){return i["b"].request({url:"/flow_cloud/create/node",method:"post",data:e})}function o(e){return i["b"].request({url:"/flow_cloud/create/dictionary",method:"post",data:e})}function l(e){return i["b"].request({url:"/flow_cloud/create/dictionary_field",method:"post",data:e})}function s(e){return i["b"].request({url:"/flow_cloud/select/dictionary",method:"post",data:e})}function c(e){return i["b"].request({url:"/flow_cloud/select/dictionary_field",method:"post",data:e})}function u(e){return i["b"].request({url:"/flow_cloud/delete/dictionary",method:"post",data:e})}function d(e){return i["b"].request({url:"/flow_cloud/update/dictionary",method:"post",data:e})}function f(e){return i["b"].request({url:"/flow_cloud/delete/dictionary_field",method:"post",data:e})}function m(e){return i["b"].request({url:"/flow_cloud/update/dictionary_field",method:"post",data:e})}}}]);
//# sourceMappingURL=service-node.cd3f89e3.js.map