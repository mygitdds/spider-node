{"version":3,"sources":["webpack:///./src/views/nodeManage/index.vue?50f4","webpack:///./src/views/nodeManage/field.js","webpack:///./src/views/nodeManage/addOrEditDialog.vue?e886","webpack:///src/views/nodeManage/addOrEditDialog.vue","webpack:///./src/views/nodeManage/addOrEditDialog.vue?bfbd","webpack:///./src/views/nodeManage/addOrEditDialog.vue","webpack:///src/views/nodeManage/index.vue","webpack:///./src/views/nodeManage/index.vue?8d53","webpack:///./src/views/nodeManage/index.vue","webpack:///./src/views/nodeManage/addOrEditDialog.vue?eba6","webpack:///./src/views/nodeManage/index.vue?6047","webpack:///./src/api/table.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_b","model","value","callback","$$v","form","expression","formProps","on","onQuery","_v","onReset","handleAdd","directives","name","rawName","loading","scopedSlots","_u","key","fn","scope","_s","row","shippingOrder","ref","index","$event","handleEdit","status","handleEnable","handleDel","handleView","tableProps","handleSearch","staticRenderFns","formFields","clearable","statusText","NORMAL","DISABLED","STATUS","label","tableFields","type","fixed","width","_","isEdit","visible","hide","rules","$set","trim","cancel","confirm","mixins","data","nodeName","identification","version","mounted","created","methods","fetchData","showEdit","id","show","$refs","resetFields","component","components","addOrEditDialog","tableData","tableHeight","shippingOrderDetails","item","computed","fields","fieldCol","xl","lg","md","wrapperWidth","total","nextFields","autofit","tableHeaderKey","height","border","pageSizeKey","currentKey","pageParam","size","page","setTimeout","window","open","rowData","splice","indexOf","$confirm","confirmButtonText","cancelButtonText","handleKeyUpQuery","keyCode","selectNode","flowCloudHttp","request","url","method","createNode","createDict","createDictField","searchDict","searchDictField","delDict","updateDict","delDictField","updateDictField"],"mappings":"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","file":"js/service-node.cd3f89e3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-column tab-content\"},[_c('yl-form-collapse',{attrs:{\"collapse-position\":\"right\",\"collapse-height\":\"42px\"}},[_c('template',{slot:\"form\"},[_c('yl-form',_vm._b({attrs:{\"size\":\"mini\"},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},'yl-form',_vm.formProps,false))],1),_c('template',{slot:\"collapse\"},[_c('el-row',{staticClass:\"flex flex-row justify-end\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.onQuery}},[_vm._v(\" 查询 \")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.onReset}},[_vm._v(\" 清除 \")])],1)],1)],2),_c('div',{staticClass:\"btn_groups\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\" 新增 \")])],1),_c('yl-table',_vm._b({directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading.fetchData),expression:\"loading.fetchData\"}],scopedSlots:_vm._u([{key:\"body(shippingOrder)\",fn:function(scope){return [_c('span',{staticClass:\"hover_green_wj\"},[_vm._v(_vm._s(scope.row.shippingOrder))])]}},{key:\"body(action)\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleEdit(row)}}},[_vm._v(\" 编辑 \")]),(row.status===true)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleEnable(row, false)}}},[_vm._v(\" 停用 \")]):_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleEnable(row, true)}}},[_vm._v(\" 启用 \")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDel(index)}}},[_vm._v(\" 删除 \")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleView(row)}}},[_vm._v(\" 查看流程 \")])]}}])},'yl-table',_vm.tableProps,false)),_c('addOrEditDialog',{ref:\"addOrEditDialog\",on:{\"success\":_vm.handleSearch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const formFields = [\n  {\n    name: '搜索词',\n    key: 'nodeName',\n    attrs: {\n      clearable: true,\n    },\n  },\n  // {\n  //   name: '节点状态',\n  //   key: 'status',\n  //   type: 'select',\n  //   attrs: {\n  //     clearable: true,\n  //   },\n  // },\n];\nconst statusText = {\n  NORMAL: '正常',\n  DISABLED: '禁用',\n};\nexport const STATUS = [{\n  value: 'ENABLED',\n  label: '启用',\n}, {\n  value: 'DISABLED',\n  label: '禁用',\n}];\nexport const tableFields = [\n\n  {\n    key: 'order',\n    type: 'index',\n    name: '序号',\n    fixed: true,\n    width: 60,\n  },\n  {\n    key: 'action',\n    name: '操作',\n    fixed: true,\n    width: 220,\n  },\n  {\n    key: 'nodeName',\n    name: '节点名称',\n    width: 100,\n  },\n  {\n    key: 'identification',\n    name: '节点标识',\n    width: 180,\n  },\n  {\n    key: 'status',\n    name: '节点状态',\n    width: 180,\n    render: (_) => statusText[_],\n\n  },\n  {\n    key: 'version',\n    name: '节点版本',\n    width: 180,\n  },\n  {\n    key: 'desc',\n    name: '节点描述',\n  },\n\n];\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],attrs:{\"title\":_vm.isEdit?'编辑':'新增',\"visible\":_vm.visible,\"top\":\"15vh\",\"width\":\"36%\",\"append-to-body\":\"\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":_vm.hide}},[_c('div',{staticClass:\"dialog_content adjust-content\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"140px\",\"rules\":_vm.rules,\"label-position\":\"right\"}},[_c('el-form-item',{attrs:{\"label\":\"节点名称\",\"prop\":\"nodeName\"}},[_c('el-input',{model:{value:(_vm.form.nodeName),callback:function ($$v) {_vm.$set(_vm.form, \"nodeName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.nodeName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"节点标识\",\"prop\":\"identification\"}},[_c('el-input',{model:{value:(_vm.form.identification),callback:function ($$v) {_vm.$set(_vm.form, \"identification\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.identification\"}})],1),_c('el-form-item',{attrs:{\"label\":\"节点状态\",\"prop\":\"status\"}},[_c('el-switch',{attrs:{\"active-text\":_vm.STATUS[0].label,\"inactive-text\":_vm.STATUS[1].label,\"active-value\":_vm.STATUS[0].value,\"inactive-value\":_vm.STATUS[1].value},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1),_c('el-form-item',{attrs:{\"label\":\"节点版本\",\"prop\":\"version\"}},[_c('el-input',{model:{value:(_vm.form.version),callback:function ($$v) {_vm.$set(_vm.form, \"version\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.version\"}})],1),_c('el-form-item',{attrs:{\"label\":\"节点描述\",\"prop\":\"desc\"}},[_c('el-input',{model:{value:(_vm.form.desc),callback:function ($$v) {_vm.$set(_vm.form, \"desc\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.desc\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\" 取 消 \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading.confirm},on:{\"click\":_vm.confirm}},[_vm._v(\" 确 定 \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    v-dialogDrag\n    :title=\"isEdit?'编辑':'新增'\"\n    :visible.sync=\"visible\"\n    top=\"15vh\"\n    width=\"36%\"\n    append-to-body\n    :close-on-click-modal=\"false\"\n    @close=\"hide\"\n  >\n    <div class=\"dialog_content adjust-content\">\n      <el-form\n        ref=\"form\"\n        :model=\"form\"\n        label-width=\"140px\"\n        :rules=\"rules\"\n        label-position=\"right\"\n      >\n        <el-form-item label=\"节点名称\" prop=\"nodeName\">\n          <el-input\n            v-model.trim=\"form.nodeName\"\n          />\n        </el-form-item>\n        <el-form-item label=\"节点标识\" prop=\"identification\">\n          <el-input\n            v-model.trim=\"form.identification\"\n          />\n        </el-form-item>\n        <el-form-item label=\"节点状态\" prop=\"status\">\n          <el-switch\n            v-model=\"form.status\"\n            :active-text=\"STATUS[0].label\"\n            :inactive-text=\"STATUS[1].label\"\n            :active-value=\"STATUS[0].value\"\n            :inactive-value=\"STATUS[1].value\"\n          />\n        </el-form-item>\n        <el-form-item label=\"节点版本\" prop=\"version\">\n          <el-input\n            v-model.trim=\"form.version\"\n          />\n        </el-form-item>\n        <el-form-item label=\"节点描述\" prop=\"desc\">\n          <el-input\n            v-model.trim=\"form.desc\"\n          />\n        </el-form-item>\n      </el-form>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"cancel\">\n        取 消\n      </el-button>\n      <el-button\n        type=\"primary\"\n        :loading=\"loading.confirm\"\n        @click=\"confirm\"\n      >\n        确 定\n      </el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport loadingMixin from '@thales/loading';\nimport { createNode } from '@/api/table';\nimport { STATUS } from './field';\n\nexport default {\n  mixins: [loadingMixin],\n  data() {\n    return {\n      STATUS,\n      isEdit: false,\n      loading: {\n        confirm: false,\n      },\n      visible: false,\n      form: {\n      },\n      rules: {\n        nodeName: [{ required: true, message: '请输入', trigger: 'blur' }],\n        identification: [{ required: true, message: '请输入', trigger: 'blur' }],\n        status: [{ required: true, message: '请选择', trigger: 'blur' }],\n        version: [{ required: true, message: '请输入', trigger: 'blur' }],\n      },\n    };\n  },\n  mounted() {},\n  created() {},\n  methods: {\n    fetchData() {},\n    async confirm() {\n      await this.$refs.form.validate();\n      const params = {\n        ...this.form,\n        serviceId: '454872',\n      };\n      await createNode(params);\n      this.$message.success('创建成功');\n      this.$emit('success');\n      this.hide();\n    },\n    cancel() {\n      this.hide();\n    },\n    showEdit(data) {\n      this.isEdit = true;\n      this.id = data.id;\n      this.form = {\n        ...data,\n      };\n      this.visible = true;\n    },\n    show() {\n      this.isEdit = false;\n      this.form = {\n      };\n      this.visible = true;\n    },\n    hide() {\n      this.$refs.form.resetFields();\n      this.visible = false;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.adjust-content ::v-deep {\n  // .el-textarea .el-input__count {\n  //   color: #909399;\n  //   background: #fff;\n  //   position: absolute;\n  //   font-size: 12px;\n  //   bottom: 2px;\n  //   right: 10px;\n  // }\n  .el-form-item {\n    margin-bottom: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addOrEditDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addOrEditDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addOrEditDialog.vue?vue&type=template&id=6904adbc&scoped=true&\"\nimport script from \"./addOrEditDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./addOrEditDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addOrEditDialog.vue?vue&type=style&index=0&id=6904adbc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6904adbc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"flex flex-column tab-content\">\n    <yl-form-collapse collapse-position=\"right\" collapse-height=\"42px\">\n      <template slot=\"form\">\n        <yl-form\n          v-model=\"form\"\n          size=\"mini\"\n          v-bind=\"formProps\"\n        />\n      </template>\n      <template slot=\"collapse\">\n        <el-row class=\"flex flex-row justify-end\">\n          <el-button\n            size=\"small\"\n            type=\"primary\"\n            @click=\"onQuery\"\n          >\n            查询\n          </el-button>\n          <el-button\n            size=\"small\"\n            @click=\"onReset\"\n          >\n            清除\n          </el-button>\n        </el-row>\n      </template>\n    </yl-form-collapse>\n    <div class=\"btn_groups\">\n      <el-button\n        size=\"small\"\n        type=\"primary\"\n        @click=\"handleAdd\"\n      >\n        新增\n      </el-button>\n    </div>\n    <yl-table v-loading=\"loading.fetchData\" v-bind=\"tableProps\">\n      <template slot=\"body(shippingOrder)\" slot-scope=\"scope\">\n        <span class=\"hover_green_wj\">{{\n          scope.row.shippingOrder\n        }}</span>\n      </template>\n      <template slot=\"body(action)\" slot-scope=\"{ row, index }\">\n        <el-button\n          type=\"text\"\n          @click=\"handleEdit(row)\"\n        >\n          编辑\n        </el-button>\n        <el-button\n          v-if=\"row.status===true\"\n          type=\"text\"\n          @click=\"handleEnable(row, false)\"\n        >\n          停用\n        </el-button>\n        <el-button\n          v-else\n          type=\"text\"\n          @click=\"handleEnable(row, true)\"\n        >\n          启用\n        </el-button>\n        <el-button\n          type=\"text\"\n          @click=\"handleDel(index)\"\n        >\n          删除\n        </el-button>\n        <el-button\n          type=\"text\"\n          @click=\"handleView(row)\"\n        >\n          查看流程\n        </el-button>\n      </template>\n    </yl-table>\n    <addOrEditDialog ref=\"addOrEditDialog\" @success=\"handleSearch\" />\n  </div>\n</template>\n\n<script>\nimport searchPageMixin from '@thales/search-page';\nimport { selectNode } from '@/api/table';\nimport loadingMixin from '@thales/loading';\nimport { formFields, tableFields } from './field';\nimport addOrEditDialog from './addOrEditDialog.vue';\n\nexport default {\n  name: 'FunManage',\n  components: {\n    addOrEditDialog,\n  },\n  mixins: [searchPageMixin, loadingMixin],\n  data() {\n    return {\n      form: {},\n      tableData: [{}, { flowName: 'xxxx' }],\n      tableHeight: '60vh',\n      shippingOrderDetails: {\n        visible: false,\n        item: {},\n      },\n      loading: {\n        fetchData: false,\n      },\n    };\n  },\n  computed: {\n    formProps() {\n      return {\n        fields: formFields,\n        fieldCol: {\n          xl: 10,\n          lg: 10,\n          md: 10,\n        },\n        wrapperWidth: '80%',\n        total: 10,\n        nextFields: [\n          {\n            key: 'nodeName',\n            nativeOn: {\n              keyup: this.handleKeyUpQuery,\n            },\n            on: {\n              clear: () => {\n                this.onQuery();\n              },\n            },\n          },\n          // {\n          //   key: 'status',\n          //   nativeOn: {\n          //     keyup: this.handleKeyUpQuery,\n          //   },\n          //   props: {\n          //     options: [\n          //       { label: '启用', value: 'ENABLED' },\n          //       { label: '禁用', value: 'DISABLED' },\n          //     ],\n          //   },\n          //   on: {\n          //     clear: () => {\n          //       this.onQuery();\n          //     },\n          //   },\n          // },\n        ],\n      };\n    },\n    tableProps() {\n      return {\n        autofit: false,\n        tableHeaderKey: 'funManage',\n        height: this.tableHeight,\n        fields: tableFields,\n        border: true,\n        total: this.total,\n        data: this.tableData,\n        pageSizeKey: 'size',\n        currentKey: 'page',\n        pageParam: {\n          size: 10,\n          page: 1,\n        },\n        ...this.mixinTableProps,\n      };\n    },\n  },\n  mounted() {\n    setTimeout(() => {\n      this.tableHeight = 'calc(100vh - 290px)';\n    }, 50);\n  },\n  methods: {\n    handleView() {\n      window.open('#/dag?nodeId=1');\n    },\n    handleEnable(row, type) {\n      const rowData = row;\n      rowData.status = type;\n      this.tableData.splice(this.tableData.indexOf(row), 1, rowData);\n      this.onQuery();\n    },\n    handleDel(index) {\n      this.$confirm('确定删除?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(() => {\n        this.tableData.splice(index, 1);\n      });\n    },\n    handleSearch() {\n      this.onQuery();\n    },\n    handleAdd() {\n      this.$refs.addOrEditDialog.show();\n    },\n    handleEdit(row) {\n      this.$refs.addOrEditDialog.showEdit(row);\n    },\n\n    async fetchData(form) {\n      const params = { ...form, serviceId: '454872' };\n      // Object.keys(params).forEach((key) => {\n      //   if (isEmpty(params[key])) {\n      //     delete params[key];\n      //   }\n      // });\n      const res = await selectNode(params);\n      // console.log(res);\n\n      // const { page, size, ...rest } = params;\n      // console.log(rest);\n      // console.log(this.tableData);\n      // const { total, records } = await selectNode(\n      //   { ...rest },\n      //   {\n      //     page: params.page,\n      //     size: params.size,\n      //   },\n      // );\n      this.tableData = res;\n      this.total = this.tableData.length;\n    },\n    handleKeyUpQuery({ keyCode }) {\n      if (keyCode === 13) {\n        this.onQuery();\n      }\n    },\n\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.thaled-collapse-form::v-deep {\n  border: 1px solid #ebeef5;\n  padding: 10px 10px 0 10px;\n  margin: 5px 0 20px;\n  & > .el-row:first-child {\n    flex: 1;\n  }\n  .thales-form-expand__icon {\n    margin-left: 6px;\n    margin-top: 6px;\n  }\n  .el-form-item__content .el-date-editor.el-input__inner {\n    width: 320px;\n  }\n}\n.tab-content {\n  padding: 20px;\n  flex: 1;\n  display: flex;\n  overflow: hidden;\n  flex-direction: column;\n  background-color: #fff;\n  margin: 0 10px;\n  ::v-deep {\n    .el-input .el-input__inner {\n      width: 100%;\n    }\n  }\n  .btn_groups{\n    text-align: right;\n    margin-bottom: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=fb336b80&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=fb336b80&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb336b80\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addOrEditDialog.vue?vue&type=style&index=0&id=6904adbc&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fb336b80&scoped=true&lang=scss&\"","import { flowCloudHttp } from '@/utils/http';\n\n// ---------------- 节点相关数据接口--------------------\n\n// 查询节点列表\nexport function selectNode(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/select/node',\n    method: 'post',\n    data,\n  });\n}\n\n// 新增节点\nexport function createNode(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/create/node',\n    method: 'post',\n    data,\n  });\n}\n\n// ---------------- 字典相关数据接口--------------------\n\n/**\n * 新增字典主数据\n * @param {*} data\n * @api https://yapi.ops.yunlizhi.cn/project/611/interface/api/21487\n */\nexport function createDict(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/create/dictionary',\n    method: 'post',\n    data,\n  });\n}\n\n/**\n * 新增字典子数据\n * @param {*} data\n * @api https://yapi.ops.yunlizhi.cn/project/611/interface/api/21489\n */\nexport function createDictField(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/create/dictionary_field',\n    method: 'post',\n    data,\n  });\n}\n\n/**\n * 查询字典\n * @param {*} data\n * @api https://yapi.ops.yunlizhi.cn/project/611/interface/api/21491\n */\nexport function searchDict(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/select/dictionary',\n    method: 'post',\n    data,\n  });\n}\n/**\n * 查询字典字段\n * @param {*} data\n * @api https://yapi.ops.yunlizhi.cn/project/611/interface/api/21493\n */\nexport function searchDictField(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/select/dictionary_field',\n    method: 'post',\n    data,\n  });\n}\n\n/**\n * 删除字典\n * @param {*} data\n * @api https://yapi.ops.yunlizhi.cn/project/611/interface/api/21495\n */\nexport function delDict(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/delete/dictionary',\n    method: 'post',\n    data,\n  });\n}\n/**\n * 更新字典\n * @param {*} data\n * @api https://yapi.ops.yunlizhi.cn/project/611/interface/api/21495\n */\nexport function updateDict(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/update/dictionary',\n    method: 'post',\n    data,\n  });\n}\n/**\n * 删除字典字段\n * @param {*} data\n * @api https://yapi.ops.yunlizhi.cn/project/611/interface/api/21497\n */\nexport function delDictField(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/delete/dictionary_field',\n    method: 'post',\n    data,\n  });\n}\n\n/**\n * 更新字典字段\n * @param {*} data\n * @api https://yapi.ops.yunlizhi.cn/project/611/interface/api/21497\n */\nexport function updateDictField(data) {\n  return flowCloudHttp.request({\n    url: '/flow_cloud/update/dictionary_field',\n    method: 'post',\n    data,\n  });\n}\n"],"sourceRoot":""}